# ü§ñ DAY 5 ‚Äî Advanced Prompt Engineering

---

## üß≠ Overview

Welcome to **Day 5**, where you move beyond simple automation and into **AI-augmented creativity**.  
This is where you teach the AI *how to think with you*, not just for you.

You‚Äôll learn how to design advanced prompts that chain logic, reuse AI outputs intelligently, and build entire scripts, graphs, and insights from text alone.

---

## üß† Learning Objectives

By the end of this lesson, you‚Äôll be able to:

- Use **AI Co-Pilot** and **ChatGPT** to generate working Python code for dashboards.
- Understand **context chaining**, where one AI output becomes the next input.
- Structure prompts for **data visualization, logic building, and storytelling.**
- Design your own ‚ÄúAI workbench‚Äù workflow to produce consistent, testable results.

---

## üí° What is Advanced Prompt Engineering?

Advanced prompt engineering means building a **conversation architecture**, not just a single request.  
Instead of saying *‚ÄúMake a chart,‚Äù* you teach the AI:

1. What role it‚Äôs playing (e.g., *‚ÄúYou are a data scientist‚Ä¶‚Äù*).  
2. What tools it should use (e.g., *pandas, plotly, matplotlib*).  
3. What output you expect (e.g., *a line graph of sanitizer usage by department*).  
4. How to explain its reasoning or annotate the chart.

This creates a **closed feedback loop** between your intent and the AI‚Äôs execution.

---

## üß© Key Concepts

| Concept | Description | Example |
|----------|-------------|----------|
| **Context Chaining** | Feeding previous AI outputs into new prompts for iterative refinement. | Use yesterday‚Äôs cleaned data summary to generate a visualization prompt. |
| **Role Assignment** | Framing the AI‚Äôs perspective for higher relevance and accuracy. | ‚ÄúAct as a hospital data scientist specializing in infection control.‚Äù |
| **Prompt Memory** | Reusing key variables, code snippets, and summaries from earlier prompts. | ‚ÄúUsing the same DataFrame from the last step, calculate compliance trends.‚Äù |
| **Explainable Generation** | Requesting code and explanations together for better learning. | ‚ÄúShow me the pandas code and explain each line.‚Äù |

---

## ‚öôÔ∏è Example Prompt

> ‚ÄúYou are a data scientist working in infection control.  
> Write Python code using pandas and plotly.express to visualize sanitizer usage trends across departments over time.‚Äù

This one sentence does four things:
1. Defines the AI‚Äôs **role**.  
2. Specifies the **domain context**.  
3. Names the **tools and libraries**.  
4. Describes the **visual goal**.

---

## üß™ Example AI Output

```python
import pandas as pd
import plotly.express as px

# Load your cleaned data from Day 4
df = pd.read_excel("cleaned_output.xlsx")

# Convert dates if available
df['Date'] = pd.to_datetime(df['Date'], errors='coerce')

# Group sanitizer usage by department
usage = df.groupby('Department', as_index=False)['Usage_Count'].sum()

# Create a bar chart
fig = px.bar(
    usage,
    x='Department',
    y='Usage_Count',
    title='Sanitizer Usage by Department (Monthly Totals)',
    color='Department',
    text_auto=True,
    color_discrete_sequence=px.colors.sequential.Blues
)

fig.update_layout(
    plot_bgcolor='#111111',
    paper_bgcolor='#111111',
    font=dict(color='#E5E7EB')
)

fig.show()
````

---

## üîÅ Context Chaining in Action

The best AI workflows don‚Äôt end with one prompt ‚Äî they **chain**.

### Step 1 ‚Äî Create Context

Ask:

> ‚ÄúSummarize the top 3 departments with highest sanitizer usage.‚Äù

### Step 2 ‚Äî Reuse Context

Now feed that output into a new prompt:

> ‚ÄúGenerate Python code using that insight to highlight these departments on a Plotly graph.‚Äù

### Step 3 ‚Äî Reflect and Explain

Ask:

> ‚ÄúWhat trend do you see over time, and what might this mean for inventory planning?‚Äù

Each prompt layer strengthens the next ‚Äî this is *context engineering in motion*.

---

## üß± Building an AI Workbench

When you use AI as a co-pilot for analytics, you‚Äôre really building a **feedback loop**:

```mermaid
flowchart TD
    A[Human Intent: Prompt] --> B[AI Generates Code]
    B --> C[Code Runs in Jupyter/Mito]
    C --> D[Output: Data or Visualization]
    D --> E[Human Reflection: Refine Prompt]
    E --> B
```

Each loop produces cleaner, more useful results as you guide the AI with better context.

---

## üß© Practice Exercise: The Co-Pilot Loop

Try this 3-step cycle:

1. **Prompt:**
   ‚ÄúUsing pandas, calculate sanitizer usage per department and show a Plotly trend line.‚Äù

2. **Run the code** generated by the AI.

3. **Refine:**
   ‚ÄúNow add a threshold line for departments exceeding 250 uses.‚Äù

4. **Reflect:**
   What insights can you derive from this new chart?

Each repetition builds muscle memory for AI-guided analytics.

---

## üß† Bonus: Teach the AI to Audit Itself

Advanced prompt engineers don‚Äôt just get code ‚Äî they make the AI evaluate its own work.

> ‚ÄúBefore showing the chart, check for missing values and print the data quality summary.‚Äù

You can even chain this with your trigger scripts from Day 4, creating a **self-healing pipeline**:

1. Trigger cleans data.
2. AI generates visualization.
3. AI audits results.
4. Dashboard updates automatically.

---

## üß∞ Recommended Tools

| Tool                    | Purpose                              |
| ----------------------- | ------------------------------------ |
| **ChatGPT-5 / CoPilot** | Interactive code & logic generation  |
| **Plotly Studio**       | No-code visual designer              |
| **Mito Labs**           | Data wrangling + trigger cell export |
| **VS Code or Jupyter**  | Execution environment                |
| **LangChain / Python**  | Chaining AI outputs programmatically |

---

## üß™ Mini Project: Infection Control Trend Dashboard

Create a small AI-driven dashboard prototype using this workflow:

1. Use your cleaned file from Day 4.
2. Ask the AI to generate 2 charts:

   * A **bar chart** showing sanitizer usage per department.
   * A **line chart** showing total usage trend over time.
3. Add labels, a color scale, and a title.
4. Export the code to a `.py` file and run it in VS Code or Mito Labs.
5. Optional: embed your chart in a Streamlit or Shiny dashboard.

---

## üí¨ Reflection

Ask yourself:

* Did your AI-generated code run the first time?
* What assumptions did it make about your data?
* How did refining your prompt improve the output?
* How could you apply this to real hospital or clinic data?

---

## ‚úÖ Summary

| Skill                     | Description                                         |
| ------------------------- | --------------------------------------------------- |
| **Prompt Design**         | Build structured prompts that teach the AI its role |
| **Context Chaining**      | Reuse AI outputs for cumulative insights            |
| **Visualization Prompts** | Generate real charts from text                      |
| **AI Co-Pilot Workflow**  | Iterative prompt-code-review cycle                  |
| **Self-Auditing Logic**   | Build intelligent AI that checks its work           |

---

## üß† Next Lesson

Tomorrow (Day 6), you‚Äôll integrate your AI-generated code into **interactive dashboards** using **Streamlit, Plotly Studio, and Base44 hosting** ‚Äî turning all your work into a polished, shareable application.

---

### ‚úçÔ∏è Authored by

**Erwin Maurice McDonald**
*AI Strategist | Data Visualization Engineer | Healthcare Software Developer*

```

---
